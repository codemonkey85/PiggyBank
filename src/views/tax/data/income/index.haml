%h1 Income Data
= styled_flash
%form{ method: "POST" }
  %input{ type: "hidden", name: "_token", value: PiggyBank::App.token }
  %fieldset
    %legend Miscellaneous Income
    %label
      State Tax Refund
      %input{ name: "state_refund", type: "text", value: @income.state_refund }
    %label
      Other Credits
      %input{ name: "other_credits", type: "text", value: @income.other_credits }
  - @income.w2s.each_with_index do |w2, n|
    = haml :"tax/data/income/w2", locals: {w2: w2, n: n}
  - @income.f1099_divs.each_with_index do |f1099div, n|
    = haml :"tax/data/income/f1099_div", locals: {f1099div: f1099div, n: n}
  - @income.f1099_ints.each_with_index do |f1099int, n|
    = haml :"tax/data/income/f1099_int", locals: {f1099int: f1099int, n: n}
  - @income.rentals.each_with_index do |rental, n|
    = haml :"tax/data/income/rental", locals: {rental: rental, n: n}
  .buttons
    %button.btn.primary{ formaction: "/tax/data/income?add_w2" }
      %span.icon.icon-plus
      %span.text Add W2
    %button.btn.primary{ formaction: "/tax/data/income?add_f1099_int" }
      %span.icon.icon-plus
      %span.text Add 1099-INT
    %button.btn.primary{ formaction: "/tax/data/income?add_rental" }
      %span.icon.icon-plus
      %span.text Add Rental
  .buttons
    %button.btn.primary{ formaction: "/tax/data/income" }
      %span.icon.icon-solid-check
      %span.text Save
    %a.btn.secondary{ href: '/tax/data' }
      %span.icon.icon-close
      %span.text Cancel
